# OME + MediaMTX WebRTC Streaming Configuration Example
# Copy this file to .env and modify values as needed

# =============================================================================
# DOMAIN & SSL CONFIGURATION
# =============================================================================
DOMAIN=your-domain.com
EMAIL=admin@your-domain.com
SSL_ENABLED=true
STAGING_MODE=false

# =============================================================================
# PORT CONFIGURATION
# =============================================================================
# Nginx
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Frontend
FRONTEND_PORT=3000

# MediaMTX
MEDIAMTX_API_PORT=8887
MEDIAMTX_RTMP_PORT=1935
MEDIAMTX_RTSP_PORT=8554

# OME (OvenMediaEngine)
OME_RTMP_PORT=1938
OME_RTMP_PULL_PORT=1939
OME_WEBRTC_WS_PORT=3333
OME_WEBRTC_WSS_PORT=3334
OME_HTTPS_PORT=8443
OME_TURN_PORT=3478
OME_ICE_START_PORT=40000
OME_ICE_END_PORT=40010
OME_ICE_ADDITIONAL_PORT=9000

# =============================================================================
# STREAM CONFIGURATION
# =============================================================================
# Stream source
STREAM_SOURCE_URL=rtmp://your-stream-source.com/stream/path
STREAM_SOURCE_USERNAME=your_username
STREAM_SOURCE_PASSWORD=your_password

# Stream names
STREAM_NAME=your_stream_name
APPLICATION_NAME=app

# =============================================================================
# TURN SERVER CONFIGURATION
# =============================================================================
# TURN Server 1
TURN1_HOST=your-turn-server1.com
TURN1_PORT=3478
TURN1_USERNAME=your_turn1_username
TURN1_PASSWORD=your_turn1_password

# TURN Server 2
TURN2_HOST=your-turn-server2.com
TURN2_PORT=3478
TURN2_USERNAME=your_turn2_username
TURN2_PASSWORD=your_turn2_password

# STUN Server
STUN_HOST=stun.l.google.com
STUN_PORT=19302

# =============================================================================
# WEBRTC CONFIGURATION
# =============================================================================
KEEPALIVE_INTERVAL=10000
HEALTH_CHECK_INTERVAL=5000
MAX_RECONNECT_ATTEMPTS=5
RECONNECT_DELAY=3000
TIMEOUT=300000

# =============================================================================
# MEDIAMTX CONFIGURATION
# =============================================================================
MEDIAMTX_LOG_LEVEL=info
MEDIAMTX_READ_TIMEOUT=30s
MEDIAMTX_WRITE_TIMEOUT=30s
MEDIAMTX_RUN_ON_DEMAND_START_TIMEOUT=30s
MEDIAMTX_RUN_ON_DEMAND_CLOSE_AFTER=10s

# =============================================================================
# OME CONFIGURATION
# =============================================================================
OME_LOG_LEVEL=info
OME_HTTPS_ENABLE=true
OME_WEBRTC_TIMEOUT=300000
OME_WEBRTC_RTX=true
OME_WEBRTC_ULPFEC=true

# =============================================================================
# NGINX CONFIGURATION
# =============================================================================
NGINX_WORKER_CONNECTIONS=1024
NGINX_KEEPALIVE_TIMEOUT=65
NGINX_API_RATE_LIMIT=10r/s
NGINX_WEBRTC_RATE_LIMIT=5r/s
